(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(69)},33:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){},48:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(21),o=a.n(i),r=(a(33),a(4)),s=a(5),l=a(7),m=a(6),u=a(8),d=(a(35),a(37),a(39),function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.location,a=e.temp_c,n=(e.isDay,e.text),i=e.iconURL;return c.a.createElement("div",{className:"weather-container"},c.a.createElement("div",{className:"header"},t),c.a.createElement("div",{className:"inner-container"},c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:i})),c.a.createElement("div",{className:"current-weather"},a,"\xb0")),c.a.createElement("div",{className:"footer"},n))}}]),t}(c.a.Component)),p=a(11),h=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={isSelectLocationOpen:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onToggleSelectLocation",value:function(){this.setState(function(e){return{isSelectLocationOpen:!e.isSelectLocationOpen}})}},{key:"onLocationNameChange",value:function(e){this.setState({locationName:e.target.value})}},{key:"onSelectCity",value:function(){var e=this.state.locationName;this.props.eventEmitter.emit("updateWeather",e),this.setState({isSelectLocationOpen:!1})}},{key:"render",value:function(){var e=this,t=this.state.isSelectLocationOpen;return c.a.createElement("div",{className:"top-container"},c.a.createElement("div",{className:"title"},"Weather Up"),c.a.createElement(d,this.props),c.a.createElement(p.a,null,c.a.createElement(p.c,null,function(t){var a=t.ref;return c.a.createElement("button",{className:"btn btn-select-location",ref:a,onClick:e.onToggleSelectLocation.bind(e)},"Select Location")}),c.a.createElement(p.b,{placement:"top"},function(a){var n=a.ref,i=a.style,o=a.placement,r=a.arrowProps;return t&&c.a.createElement("div",{className:"popup-container",ref:n,style:i,"data-placement":o},c.a.createElement("div",{className:"form-container"},c.a.createElement("label",{htmlFor:"location-name"},"Location Name"),c.a.createElement("input",{id:"location-name",type:"text",placeholder:"City Name",onChange:e.onLocationNameChange.bind(e)}),c.a.createElement("button",{className:"btn btn-select-location",onClick:e.onSelectCity.bind(e)},"Select")),c.a.createElement("div",{ref:r.ref,style:r.style}))})))}}]),t}(c.a.Component),v=(a(48),function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.day;return e?c.a.createElement("div",{className:"forcastday-container"},c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:e.condition.icon})),c.a.createElement("div",{className:"text"},e.avgtemp_c),c.a.createElement("div",{className:"muted-text"},e.condition.text)):null}}]),t}(c.a.Component)),f=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.forecastdays;return c.a.createElement("div",{className:"bottom-container"},c.a.createElement("div",{className:"inner-container"},e&&e.map(function(e,t){return c.a.createElement(v,{day:e.day,key:t})})))}}]),t}(c.a.Component),E=a(25),b=a.n(E),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={cityName:"London",numForcastDays:4,isLoading:!0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"updateWeather",value:function(){var e=this,t=this.state,a=t.cityName,n=t.numForcastDays,c="https://api.apixu.com/v1/forecast.json?key=".concat("05fa14e773434825be0193343191301","  &q=").concat(a," &days=").concat(n);b.a.get(c).then(function(e){return e.data}).then(function(t){e.setState({isLoading:!1,temp_c:t.current.temp_c,isDay:t.current.is_day,text:t.current.condition.text,iconURL:t.current.condition.icon,forecastdays:t.forecast.forecastday})}).catch(function(e){e&&console.error("Cannot fetch Weather Data from API, ",e)})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.eventEmitter;this.updateWeather(),t.on("updateWeather",function(t){e.setState({cityName:t},function(){return e.updateWeather()})})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.cityName,n=e.temp_c,i=e.isDay,o=e.text,r=e.iconURL,s=e.forecastdays;return c.a.createElement("div",{className:"app-container"},c.a.createElement("div",{className:"main-container"},t&&c.a.createElement("div",{className:"top-section loading"},c.a.createElement("h1",null,"Loading..."),c.a.createElement("div",{className:"donut"})),!t&&c.a.createElement("div",{className:"top-section"},c.a.createElement(h,{location:a,temp_c:n,isDay:i,text:o,iconURL:r,eventEmitter:this.props.eventEmitter})),c.a.createElement("div",{className:"bottom-section"},c.a.createElement(f,{forecastdays:s}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=a(27),N=a(26),j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).eventEmitter=new N.EventEmitter,a.state={appName:"Weather Up"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return c.a.Children.map(this.props.children,function(t){return c.a.cloneElement(t,Object(O.a)({},e.state,{eventEmitter:e.eventEmitter}))})}}]),t}(c.a.Component);o.a.render(c.a.createElement(j,null,c.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,2,1]]]);
//# sourceMappingURL=main.1eee4482.chunk.js.map